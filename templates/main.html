<!DOCTYPE html>
<html ng-app="HupuScraper">
<head>
    <meta charset="UTF-8">
    <title>虎扑NBA新闻爬虫</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css">
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
</head>
<body ng-controller="ScraperController">

    <nav class="navbar navbar-toggleable-md navbar-inverse" style="background: #c01e2f">
        <div class="container">
            <a class="navbar-brand" href="#">虎扑NBA新闻爬虫</a>
        </div>
    </nav>

    <div class="jumbotron jumbotron-fluid" style="background: #c01e2f; color: white; padding: 0.5rem">
        <div class="container">
            <h1 class="display-3">
                <div style="display: flex; justify-content: space-between">
                    <img src="./../static/hupu.png" style="height: 110px;"/>
                    <div>
                        <form role="form" ng-submit="getResults()">
                            {% raw %}
                                <button type="submit" class="btn btn-secondary btn-lg"
                                 ng-disabled="loading" style="color: white; background: transparent">{{ submitButtonText }}</button>
                            {% endraw %}
                            <button type="button" onclick="window.open('/download')" class="btn btn-secondary btn-lg" style="color: white; background: transparent" ng-disabled="loading">
                                下载json文件
                            </button>
                        </form>
                    </div>
                </div>
            </h1>
        </div>
    </div>

    <div class="container">
        <div class="progress" ng-show="loading" style="margin-bottom: 20px">
            <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
        </div>
        <div id="results">
            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>Title (most recent 20)</th>
                        <th>From</th>
                    </tr>
                </thead>
                <tbody>
                {% for item in news %}
                    <tr>
                        <td><a href="{{ item.link }}" target="_blank">{{ item.text }}</a></td>
                        <td>{{ item.from }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>

        <hr style="margin-top: 25px">
        <footer>
            <div style="display: flex; justify-content: space-between">
                <p>© Yaoming Zhan 2017</p>
                <a href="https://github.com/zhanym0981/hupu-scraper" target="_blank">GitHub</a>
            </div>
        </footer>
    </div>

    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.9/angular.min.js"></script>
    <script src="{{ url_for('static', filename='main.js') }}"></script>
</body>
</html>